CREATE DATABASE BAC_TESTE;
USE BAC_TESTE;

CREATE TABLE ANIMAL (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(20),
    sexo VARCHAR(10),
    condutor VARCHAR(20),
    qnt_de_racao_p_dia FLOAT,
    FK_RACA_id INTEGER
);

CREATE TABLE VACINA (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(40)
);

CREATE TABLE RACA (
    id INTEGER PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(20)
);

CREATE TABLE NECESSITA (
    fk_ANIMAL_id INTEGER,
    fk_VACINA_id INTEGER,
    data DATE,
    qtd FLOAT
);
 
ALTER TABLE ANIMAL ADD CONSTRAINT FK_ANIMAL_2
    FOREIGN KEY (FK_RACA_id)
    REFERENCES RACA (id)
    ON DELETE CASCADE;
 
ALTER TABLE NECESSITA ADD CONSTRAINT FK_necessita_1
    FOREIGN KEY (fk_ANIMAL_id)
    REFERENCES ANIMAL (id)
    ON DELETE SET NULL;
 
ALTER TABLE NECESSITA ADD CONSTRAINT FK_necessita_2
    FOREIGN KEY (fk_VACINA_id)
    REFERENCES VACINA (id)
    ON DELETE SET NULL;
